<span data-ng-search-form="">
  <div class="input-group">
    <div class="input-group-btn">
      <button class="btn btn-default" type="button" title="{{'add' | translate}}"
        data-ng-click="add();">
        <i class="fa fa-plus"/>
        <span>&nbsp;</span>
      </button>
    </div>

    <input type="text" class="form-control" placeholder="{{'searchAnOrganisation' | translate}}"
           data-ng-model="params.any" data-ng-change="triggerWildSubtemplateSearch('mcp:CI_Organisation')"/>

    <!-- The autocomplete list -->
    <div class="list-group tt-dropdown-menu gn-autocomplete-list"
        data-ng-show="searchResults.records">
      <span class="tt-suggestions">
        <div class="tt-suggestion"
            data-ng-repeat="r in searchResults.records"> {{r.title}}
          <span class="pull-right">
            <div class="btn-group"
                 title="{{'addContactAsText-help' | translate}}">
              <button type="button" class="btn btn-default" data-ng-click="addOrganisation(r)">
                <i class="fa fa-plus"></i>
              </button>
            </div>
            <div data-ng-show="gnConfig[gnConfig.key.isXLinkEnabled]"
                 title="{{'addContactAsLink-help' | translate}}"
                 class="btn-group">
              <button type="button" class="btn btn-default" data-ng-click="addOrganisation(r, true)">
                <i class="fa fa-link"></i>
              </button>
            </div>
          </span>
          <div class="clearfix"></div>
        </div>
      </span>
    </div>

    <div class="input-group-btn">
      <button class="btn btn-default" type="button"
              data-ng-show="searchResults.records.length != 0"
              data-ng-click="searchResults.records = []">
        <i class="fa fa-times"></i>
        <span>&nbsp;</span>
      </button>
    </div>

    <!-- The organisation to insert once received -->
    <div data-ng-if="snippet">
      <input name="{{snippetRef}}" type="hidden" value="{{snippet}}"/>
    </div>
  </div>

</span>
